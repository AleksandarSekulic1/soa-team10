<div class="form-container">
  <h1>Add New Key Point</h1>

  <form (ngSubmit)="onSubmit()" #keyPointForm="ngForm">
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" id="name" name="name" [(ngModel)]="keyPoint.name" required>
    </div>

    <div class="form-group">
      <label for="description">Description</label>
      <textarea id="description" name="description" [(ngModel)]="keyPoint.description" required></textarea>
    </div>

    <div class="form-group">
      <label>Select Location on Map</label>
      <div id="map"></div>
      <div class="coords-display">
        <span>Latitude: {{ keyPoint.latitude | number:'1.6-6' }}</span>
        <span>Longitude: {{ keyPoint.longitude | number:'1.6-6' }}</span>
      </div>
    </div>

    <div class="form-group">
      <label>Select Image</label>
      <div class="image-selector">
        <img *ngFor="let img of availableImages"
             [src]="img"
             alt="Image for selection"
             [class.selected]="keyPoint.imageUrl === img"
             (click)="selectImage(img)">
      </div>
    </div>

    <button type="submit" [disabled]="keyPointForm.invalid || !keyPoint.imageUrl" class="btn-submit">Save Key Point</button>
  </form>
</div>